<div class="mdc-layout-grid">
  <div class="mdc-layout-grid__inner rc-gallery">
    <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
    <mat-toolbar class="rc-toolbar-section">
      <span>{{ 'CMS-Images.RImages' | translate }}</span>
      <span class="rc-space-filler"></span>
      <span class="rc-toolbar-actions">

        <button
          mat-icon-button
          (click)="help.dspHelp('cms-images', restaurant)">
            <mat-icon>help_outline</mat-icon>
        </button>

        <button mat-icon-button (click)="addImage()"
                matTooltip="{{ 'CMS-Images.UploadImage' | translate }}">
          <mat-icon>add_circle_outline</mat-icon>
        </button>
      </span>
    </mat-toolbar>
  </div>
<!--    &lt;!&ndash; content load animation &ndash;&gt;-->
<!--    <div class="mdc-layout-grid__cell mdc-layout-grid__cell&#45;&#45;span-4 rc-add-content" *ngIf="showLoader">-->
<!--    <rc-loader></rc-loader>-->
<!--  </div>-->
<!--    &lt;!&ndash; Image cards &ndash;&gt;-->
<!--    <div-->
<!--      class="mdc-layout-grid__cell mdc-layout-grid__cell&#45;&#45;span-4 rc-gallery-image"-->
<!--      *ngFor="let image of cmsImages" cdkDrag="{{ image }}">-->
<!--      <div-->
<!--        class="rc-image-card"-->
<!--        (click)="viewImage(image)">-->
<!--      <mat-chip-list class="rc-element-tag">-->
<!--        <mat-chip-->
<!--          selected="true"-->
<!--          *ngIf="image['cms_element_default']">-->
<!--          {{ 'CMS-Images.DefaultTag' | translate }}-->
<!--        </mat-chip>-->
<!--        <mat-chip-->
<!--          class="rc-online"-->
<!--          selected="true"-->
<!--          *ngIf="image['cms_element_active']">-->
<!--          {{ 'CMS-Images.Available' | translate }}-->
<!--        </mat-chip>-->
<!--        <mat-chip-->
<!--          selected="false"-->
<!--          *ngIf="!image['cms_element_active']">-->
<!--          {{ 'CMS-Images.Offline' | translate }}-->
<!--        </mat-chip>-->
<!--      </mat-chip-list>-->
<!--      <div>-->
<!--        <cl-image-->
<!--          *ngIf="image['cms_element_image_ref']"-->
<!--          [public-id]="image['cms_element_image_ref']"-->
<!--          secure="true"-->
<!--          loading="lazy"-->
<!--          height="180"-->
<!--          width="320">-->
<!--          <cl-transformation-->
<!--            height="450"-->
<!--            width="800"-->
<!--            crop="fill"-->
<!--            gravity="auto">-->
<!--          </cl-transformation>-->
<!--        </cl-image>-->
<!--      </div>-->

<!--      <div class="rc-card-actions">-->
<!--        {{ image['cms_element_id'] }}-->
<!--        <span class="rc-space-filler"></span>-->
<!--        <span (click)="stopBubbling($event)">-->
<!--          <a-->
<!--            mat-icon-button-->
<!--            [href]="image['cms_element_image_path']"-->
<!--            target="_blank"-->
<!--            title="{{ 'CMS-Images.Download' | translate }}">-->
<!--            <mat-icon>cloud_download</mat-icon>-->
<!--          </a>-->
<!--         <button-->
<!--             mat-icon-button-->
<!--             title="{{ 'CMS-Images.Delete' | translate }}"-->
<!--             [disabled]="image['cms_element_default'] == 'Y' || image['cms_element_default'] == true"-->
<!--             (click)="deleteImage(image)">-->
<!--            <mat-icon>delete</mat-icon>-->
<!--          </button>-->
<!--          <mat-checkbox-->
<!--            labelPosition="before"-->
<!--            title="{{ 'CMS-Images.ChangeStatus' | translate }}"-->
<!--            (change)="updateImageStatus(image)"-->
<!--            [checked]="image['cms_element_active']"-->
<!--            [disabled]="image['cms_element_default'] == 1"-->
<!--            color="accent">-->
<!--          </mat-checkbox>-->
<!--        </span>-->
<!--      </div>-->
<!--    </div>-->
<!--    </div>-->
<!--&lt;!&ndash;     Add image option&ndash;&gt;-->
<!--    <div class="mdc-layout-grid__cell mdc-layout-grid__cell&#45;&#45;span-4 rc-add-content" (click)="addImage()" *ngIf="!showLoader">-->
<!--      <mat-icon>add_circle_outline</mat-icon>-->
<!--      <span class="rc-add-content-label">{{ 'CMS-Images.AddImage' | translate }}</span>-->
<!--    </div>-->

    <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">

      <div class="rc-drag-gallery" cdkDropListGroup>

        <div cdkDropList [cdkDropListEnterPredicate]="enter" (cdkDropListDropped)="drop()" #placeholder></div>

        <div cdkDropList *ngFor="let img of cmsImages; let i = index"
             [cdkDropListEnterPredicate]="enter" (cdkDropListDropped)="drop()">
          <div cdkDrag class="rd-drag-gallery-item">
            <div
              class="rc-image-card"
              (click)="viewImage(img)">
              <mat-chip-list class="rc-element-tag">
                <mat-chip
                  selected="true"
                  *ngIf="img['cms_element_default']">
                  {{ 'CMS-Images.DefaultTag' | translate }}
                </mat-chip>
                <mat-chip
                  class="rc-online"
                  selected="true"
                  *ngIf="img['cms_element_active']">
                  {{ 'CMS-Images.Available' | translate }}
                </mat-chip>
                <mat-chip
                  selected="false"
                  *ngIf="!img['cms_element_active']">
                  {{ 'CMS-Images.Offline' | translate }}
                </mat-chip>
              </mat-chip-list>
              <div>
                <cl-image
                  *ngIf="img['cms_element_image_ref']"
                  [public-id]="img['cms_element_image_ref']"
                  secure="true"
                  loading="lazy"
                  height="240"
                  width="360">
                  <cl-transformation
                    height="240"
                    width="360"
                    crop="fill"
                    gravity="auto">
                  </cl-transformation>
                </cl-image>
              </div>

              <div class="rc-card-actions">
                <mat-chip *ngIf="i < 6" style="font-weight: bold">{{ i + 1 }}</mat-chip>
                <span class="rc-space-filler"></span>
                <span (click)="stopBubbling($event)">
                  <a
                    mat-icon-button
                    [href]="img['cms_element_image_path']"
                    target="_blank"
                    title="{{ 'CMS-Images.Download' | translate }}">
                    <mat-icon>cloud_download</mat-icon>
                  </a>
                  <button
                    mat-icon-button
                    title="{{ 'CMS-Images.Delete' | translate }}"
                    [disabled]="img['cms_element_default'] == 'Y' || img['cms_element_default'] == true"
                    (click)="deleteImage(img)">
                    <mat-icon>delete</mat-icon>
                  </button>
                  <mat-checkbox
                    labelPosition="before"
                    title="{{ 'CMS-Images.ChangeStatus' | translate }}"
                    (change)="updateImageStatus(img)"
                    [checked]="img['cms_element_active']"
                    [disabled]="img['cms_element_default'] == 1"
                    color="accent">
                  </mat-checkbox>
                </span>
              </div>
            </div>
          </div>

        </div>
      </div>

    </div>

  </div>
</div>




