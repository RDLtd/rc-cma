<div class="mdc-layout-grid">
  <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
    <mat-toolbar class="rc-toolbar rc-toolbar-section">
      <span>{{ 'CMS-Location.LocInfo' | translate }}</span>
      <span class="rc-space-filler"></span>
      <span class="rc-toolbar-actions">
        <!-- HELP -->
        <button
          mat-icon-button
          (click)="help.dspHelp('cms-location-transport', restaurant)">
          <mat-icon>help_outline</mat-icon>
        </button>
        <!-- UNDO CHANGES -->
        <button
          mat-icon-button
          [disabled]="!dataChanged"
          (click)="resetData()"
          [matTooltip]="'CMS-Features.UndoChanges' | translate">
          <mat-icon>undo</mat-icon>
        </button>
        <!-- SAVE CHANGES -->
        <button
          mat-icon-button
          [disabled]="!dataChanged"
          (click)="updateTransport()"
          [matTooltip]="'CMS-Features.SaveChanges' | translate">
          <mat-icon>check</mat-icon>
        </button>

      </span>
    </mat-toolbar>
      </div>

  <mat-card class="mdc-layout-grid__cell mdc-layout-grid__cell--span-4 mdc-layout-grid__cell--span-8-tablet">

    <mat-card-title>
      <h2>{{ 'CMS-Location.CarParking' | translate }}</h2></mat-card-title>
    <mat-card-content>
      <mat-form-field
        class="rc-full-width"
        floatPlaceholder="never">
          <textarea
            #private
            matInput
            matTextareaAutosize
            matAutosizeMinRows="3"
            matAutosizeMaxRows="5"
            name="cms_description_car_parking"
            maxlength="{{ transportPrivateLength }}"
            placeholder="{{ 'CMS-Location.WhatParking' | translate }} {{ transportPrivateLength }})"
            (keyup)="setChanged(private)"
            [(ngModel)]="descriptions.cms_description_car_parking">
          </textarea>
        <mat-hint align="end">{{ private.value.length }}/{{ transportPrivateLength }}</mat-hint>
      </mat-form-field>
    </mat-card-content>

  </mat-card>

  <mat-card class="mdc-layout-grid__cell mdc-layout-grid__cell--span-4 mdc-layout-grid__cell--span-8-tablet">

    <mat-card-title>
      <h2>{{ 'CMS-Location.PublicTransport' | translate }}</h2></mat-card-title>
    <mat-card-content>
      <mat-form-field
        class="rc-full-width"
        floatPlaceholder="never">
          <textarea
            #public
            matInput
            matTextareaAutosize
            matAutosizeMinRows="3"
            matAutosizeMaxRows="5"
            name="cms_description_public_transport"
            maxlength="{{ transportPublicLength }}"
            placeholder="{{ 'CMS-Location.Transport' | translate }} {{ transportPublicLength }})"
            (keyup)="setChanged(public)"
            [(ngModel)]="descriptions.cms_description_public_transport">
          </textarea>
        <mat-hint align="end">{{ public.value.length }}/{{ transportPublicLength }}</mat-hint>
      </mat-form-field>
    </mat-card-content>

  </mat-card>

  <mat-card class="mdc-layout-grid__cell mdc-layout-grid__cell--span-4 mdc-layout-grid__cell--span-8-tablet">

    <mat-card-title>
      <div class="rc-cms-card-nav"></div>
      <h2>{{ 'CMS-Location.Directions' | translate }}</h2></mat-card-title>
    <mat-card-content>
      {{ 'CMS-Location.PDF' | translate }}
    </mat-card-content>
    <mat-card-actions align="end">

      <button
        mat-button
        (click)="uploadDirections()">
        {{ 'CMS-Location.UploadDirections' | translate | uppercase }}
      </button>

      <button
        *ngIf="directions"
        mat-button
        [disabled]="!fileLoaded"
        (click)="viewDirections()">
        {{ 'CMS-Location.ViewDirections' | translate | uppercase }}
      </button>
    </mat-card-actions>

  </mat-card>

  <div class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">
    <mat-toolbar class="rc--toolbar rc-toolbar-section">
      <!--<mat-icon>place</mat-icon>-->
      <span>{{ 'CMS-Location.MapPos' | translate }}</span>
      <span class="rc-space-filler"></span>
      <span class="rc-toolbar-actions">

        <button
          mat-icon-button
          (click)="help.dspHelp('cms-location-map', restaurant)">
          <mat-icon>help_outline</mat-icon>
        </button>

        <button
          mat-icon-button
          [disabled]="!dataChanged"
          (click)="resetMapData()"
          [matTooltip]="'CMS-Location.UndoChanges' | translate">
          <mat-icon>undo</mat-icon>
        </button>

        <button
          mat-icon-button
          [disabled]="!dataChanged"
          [matTooltip]="'CMS-Location.SaveChanges' | translate"
          (click)="updateGeoCoords()">
          <mat-icon>check</mat-icon>
        </button>
      </span>
    </mat-toolbar>

  </div>

  <mat-card class="mdc-layout-grid__cell mdc-layout-grid__cell--span-12">

    <mat-card-content>
      <h3>{{ restaurant?.restaurant_address_1 }}
        {{ restaurant?.restaurant_address_2 }} {{ restaurant?.restaurant_address_3 }}
        {{ restaurant?.restaurant_post_code }}</h3>


      <agm-map
        [latitude]="mapLat"
        [longitude]="mapLng"
        [zoom]="zoom">

        <agm-marker
          [latitude]="restaurant?.restaurant_lat"
          [longitude]="restaurant?.restaurant_lng"
          [title]="restaurant?.restaurant_name"
          [markerDraggable]="allowMarkerDrag"
          (dragEnd)="getMarkerPosition($event)"
          [iconUrl]="restaurant?.restaurant_icon">
          <agm-info-window [disableAutoPan]="true">
            {{ restaurant?.restaurant_name }}, {{ restaurant?.restaurant_post_code }}, {{
            restaurant?.restaurant_website }}
          </agm-info-window>
        </agm-marker>
      </agm-map>

    </mat-card-content>

  </mat-card>

</div>

<!--<hr>-->
<!--<pre>-->
<!--{{ restaurant | json }}-->
<!--</pre>-->

